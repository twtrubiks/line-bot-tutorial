# line-bot-Tutorial
 æ•™ä½ å»ºç«‹è‡ªå·±çš„ line-bot ä½¿ç”¨ python flask ğŸ“   
 line-bot-tutorial use python flask

* [Youtube Demo Tutorial V1 ](https://youtu.be/EToFs-ysXKw)   

* [Youtube Demo V2](https://youtu.be/1IxtWgWxtlE)   

## åŸ·è¡Œç•«é¢

è«‹å…ˆåŠ å…¥å¥½å‹

æˆ‘çš„ QRCODE

![alt tag](http://i.imgur.com/Kkpzt4p.jpg)

æˆ–æ˜¯æ‰‹æ©Ÿç›´æ¥é»é¸ [https://line.me/R/ti/p/%40vbi2716y](https://line.me/R/ti/p/%40vbi2716y)

![alt tag](http://i.imgur.com/oAgR5nr.jpg)

èªè­‰è¨˜å¾—è«‹é¸ <b>åŒæ„</b>

![alt tag](http://i.imgur.com/9LOlGHh.jpg)

### v2 2017/2/25 

![alt tag](http://i.imgur.com/M30GJOU.jpg)

![alt tag](http://i.imgur.com/PCcnc5R.jpg)

![alt tag](http://i.imgur.com/3fajqDK.jpg)

![alt tag](http://i.imgur.com/SXwT0bl.jpg)

![alt tag](http://i.imgur.com/mc0R0xL.jpg)

![alt tag](http://i.imgur.com/GJI1BwG.jpg)

![alt tag](http://i.imgur.com/5T32UW3.jpg)



### V1  commit [ba855d6307c50cc478db3d7ac689bf0c96122a0f](https://github.com/twtrubiks/line-bot-tutorial/tree/ba855d6307c50cc478db3d7ac689bf0c96122a0f)

æˆåŠŸåŠ å…¥å¾Œï¼Œæˆ‘çš„ <b>é˜¿è‚¥bot</b> æœƒå‚³è¨Šæ¯çµ¦ä½ ï¼Œä¸¦ä¸”å‘Šè¨´ä½ æˆ‘æä¾›çš„æœå‹™

![alt tag](http://i.imgur.com/n9Gj09Y.jpg)

ä¹‹å¾Œä½ å°±å¯ä»¥ä¾ç…§ä½ æƒ³è¦çœ‹çš„æ±è¥¿è¼¸å…¥æŒ‡ä»¤ (ç›®å‰æ˜¯æœ‰åˆ†å¤§å°å¯«ï¼Œæ‰€ä»¥è«‹è¼¸å…¥ <b>å°å¯«</b> )

#### "eyny" : eyny é›»å½±ç‰ˆ Mega é€£çµçš„ç¶²å€ã€‚

![alt tag](http://i.imgur.com/rIGbmWA.jpg)

#### "news" : apple news å³æ™‚æ–°èã€‚

![alt tag](http://i.imgur.com/JGnn2vG.jpg)

#### "beauty" : ptt è¡¨ç‰¹ç‰ˆ è¿‘æœŸå¤§æ–¼ 10 æ¨çš„æ–‡ç«  ã€‚

![alt tag](http://i.imgur.com/mvxoq4M.jpg)

#### "ptthot" : ptt è¿‘æœŸç†±é–€çš„æ–‡ç« ã€‚

![alt tag](http://i.imgur.com/doMVR3y.jpg)

#### "movie" : è¿‘æœŸä¸Šæ˜ çš„é›»å½± ( é–‹çœ¼é›»å½±ç¶² )ã€‚

![alt tag](http://i.imgur.com/EGbEXJ7.jpg)

#### "technews" : ç§‘æŠ€æ–°èã€‚

![alt tag](http://i.imgur.com/rHdq69F.jpg)

#### "panx" : ç§‘æŠ€æ–°è ( æ³›ç§‘æŠ€ ) ã€‚

![alt tag](http://i.imgur.com/NhaGdlW.jpg)

å¦‚æœè¼¸å…¥ä¸å­˜åœ¨çš„æŒ‡ä»¤ï¼Œ<b>é˜¿è‚¥bot</b> æœƒå‘ŠçŸ¥ä½ æˆ‘ç›®å‰èƒ½åšçš„æŒ‡ä»¤æœ‰å“ªäº›

![alt tag](http://i.imgur.com/dabsGfK.jpg)


å¸Œæœ›é€™å€‹ <b>é˜¿è‚¥bot</b> èƒ½å¹«åŠ©å¤§å®¶ï¼Œç¨‹å¼ç¢¼åŸºæœ¬ä¸Šå°±æ˜¯å¾ˆç°¡å–®çš„çˆ¬èŸ²ã€‚

å¦‚æœéœ€è¦å…¶ä»–çš„åŠŸèƒ½ï¼Œå¯ä»¥çµ¦å°å¼Ÿä¸€é»å»ºè­°ï¼Œæˆ‘æœƒç›¡é‡å®Œæˆä»–ã€‚



## æ•™å­¸

è«‹å…ˆåˆ° [https://business.line.me/zh-hant/](https://business.line.me/zh-hant/) é€™è£¡ç™»å…¥è‡ªå·±

åŸæœ¬çš„ line å¸³è™Ÿï¼Œç„¶å¾Œé»é¸ Messaging API

![alt tag](http://i.imgur.com/KIzExmQ.jpg)

æ¥ä¸‹ä¾†ä½ æœƒçœ‹åˆ° <b>é–‹å§‹ä½¿ç”¨Messaging API</b> ä»¥åŠ <b>é–‹å§‹ä½¿ç”¨Developer Trial</b>

åœ¨é€™è£¡æˆ‘å€‘é¸ <b>é–‹å§‹ä½¿ç”¨Messaging API</b>

![alt tag](http://i.imgur.com/graLPrj.jpg)

é€™å…©å€‹å·®åˆ¥åœ¨å“ªè£¡å‘¢? å¯ä»¥åˆ°åŒä¸€å€‹é é¢çš„ä¸‹æ–¹è§€çœ‹ï¼ŒåŸºæœ¬ä¸Šå°±åªæ˜¯æ–¹æ¡ˆä¸åŒè€Œå·²

![alt tag](http://i.imgur.com/bERbTGz.jpg)

æ¥è‘—å°±æ˜¯ä¸€äº›è¨­å®šï¼Œé»é¸ é¸æ“‡å…¬å¸/ç¶“ç‡Ÿè€…

![alt tag](http://i.imgur.com/d1pVdx9.jpg)

é»é¸ æ–°å¢å…¬å¸/ç¶“ç‡Ÿè€…

![alt tag](http://i.imgur.com/of23y7W.jpg)

å¡«å¯«ä¸€äº›è³‡æ–™

![alt tag](http://i.imgur.com/7L9nulI.jpg)

line bot çš„ å¤§é ­è²¼ ä»¥åŠ åç¨± è¨­å®š

![alt tag](http://i.imgur.com/7483ljT.jpg)

![alt tag](http://i.imgur.com/a4Mf3Rl.jpg)

è¨­å®šå®Œå¾Œï¼Œè«‹é¸æ“‡ ç”³è«‹

![alt tag](http://i.imgur.com/Q6q8zGA.jpg)

ä»¥ä¸Šè¨­å®šæ‡‰è©²ä¸æœƒæœ‰ä»€éº¼å•é¡Œ

è«‹é¸æ“‡ é–‹å§‹ä½¿ç”¨ API

![alt tag](http://i.imgur.com/DOEjH0F.jpg)

è«‹é¸æ“‡ ç¢ºèª

![alt tag](http://i.imgur.com/pKWBvsj.jpg)

é€™äº›è«‹æ³¨æ„ï¼Œ  é¸æ“‡ <b>å…è¨±</b> ï¼Œç„¶å¾Œè¨˜å¾— <b>å„²å­˜</b>

![alt tag](http://i.imgur.com/Ofm9SeJ.jpg)

é»é¸ <b>Line Developers</b>

![alt tag](http://i.imgur.com/cW9713h.jpg)

ä½ æœƒé€²å…¥ä¸‹é¢é€™å€‹ç•«é¢ï¼Œåœ¨é€™å€‹ç•«é¢ä¸­ï¼Œæœ‰å…©å€‹æ±è¥¿å¾ˆé‡è¦ï¼Œåˆ†åˆ¥æ˜¯

* Channel Secret

* Channel Access Token

<b>Channel Secret</b>

![alt tag](http://i.imgur.com/jpIEMh4.jpg)

<b>Channel Access Token</b>

å¦‚æœä½ çœ‹åˆ°çš„æ˜¯ç©ºçš„ï¼Œè«‹é»é¸ <b>ISSUE</b> å°±æœƒé¡¯ç¤ºäº†

![alt tag](http://i.imgur.com/PcCEL4P.jpg)

è«‹å°‡ä½ çš„ <b>Channel Secret</b> ä»¥åŠ <b>Channel Access Token </b>

è²¼åˆ°ä¸‹æ–¹çš„ç¨‹å¼ç¢¼

```
line_bot_api = LineBotApi('YOUR_CHANNEL_ACCESS_TOKEN')
handler = WebhookHandler('YOUR_CHANNEL_SECRET')
``` 

æ›´å¤šè³‡è¨Šå¯åƒè€ƒ [line-bot-sdk-python](https://github.com/line/line-bot-sdk-python)

æ¥ä¸‹ä¾†å› ç‚º Line Bot éœ€è¦ SSLæ†‘è­‰ ( https )ï¼Œæ‰€ä»¥æˆ‘ç›´æ¥ä½¿ç”¨ [Heroku](https://dashboard.heroku.com/) 

å¦‚æœä¸çŸ¥é“ä»€éº¼æ˜¯ [Heroku](https://dashboard.heroku.com/)  ä»¥åŠå®ƒçš„ä½¿ç”¨æ–¹æ³•

è«‹åƒè€ƒæˆ‘ä¹‹å‰å¯«çš„ [Deploying-Flask-To-Heroku](https://github.com/twtrubiks/Deploying-Flask-To-Heroku)

ä½ˆç½²

![alt tag](http://i.imgur.com/kseRgxr.jpg)

å¦‚ä¸Šåœ–ï¼Œæˆ‘çš„ç¶²å€æ˜¯ [https://python-ine-bot.herokuapp.com/](https://python-ine-bot.herokuapp.com/)

æ¥è‘—æˆ‘å€‘è¦åŠ å…¥ Webhook URL ï¼Œè«‹é»é¸ EDIT ï¼Œä¸¦ä¸”åŠ å…¥ä½ è‡ªå·±çš„ç¶²å€ï¼Œç¶²å€æ ¼å¼

```
https://{ä½ çš„ç¶²å€}/callback
``` 

èˆ‰ä¾‹ï¼Œæˆ‘çš„ç¶²å€å°±æ˜¯

```
https://python-ine-bot.herokuapp.com/callback
``` 

![alt tag](http://i.imgur.com/5ckn24T.jpg)

![alt tag](http://i.imgur.com/TIjIM9W.jpg)

è¼¸å…¥å®Œä¹‹å¾Œï¼Œå¯ä»¥æŒ‰ VERIFY ï¼Œå¦‚æœä½ çš„ CODE æ­£ç¢ºç„¡èª¤ï¼Œå°±æœƒé¡¯ç¤º Success

![alt tag](http://i.imgur.com/Mey5FKF.jpg)

ä¸éæˆ‘ä½¿ç”¨ [line-bot-sdk-python](https://github.com/line/line-bot-sdk-python)ç•¶æˆ‘æŒ‰ä¸‹ VERIFYï¼Œå»å‡ºç¾éŒ¯èª¤ï¼Œä¸éæ˜¯å¯ä»¥æ­£å¸¸é‹ä½œï¼Œæ‰€ä»¥æš«æ™‚å…ˆä¸ç®¡ä»–ã€‚

![alt tag](http://i.imgur.com/wb0Qw5W.jpg)

åŸºæœ¬ä¸Šåˆ°é€™è£¡å°±æ˜¯å®Œæˆäº†ï¼Œè¶•å¿«å»åŠ å…¥è‡ªå·±çš„ line bot ç©ç©çœ‹å§~

åªè¦æˆ‘æœ‰æ–°çš„æƒ³æ³•ï¼Œæˆ‘æœƒåŒæ­¥æ›´æ–°åœ¨é€™ç¯‡æ–‡ç« ï¼Œ line bot é‚„æœ‰å¾ˆå¤šå¥½ç©çš„åœ°æ–¹

## å…¶ä»–è£œå……
åªè¦æœ‰ä½¿ç”¨åˆ°ç¶²å€ï¼Œè«‹è¨˜å¾—ä¸€å®šéƒ½è¦ç”¨ <b> https </b>

èˆ‰ä¾‹

```
image_message = ImageSendMessage(
            original_content_url="https://example.com.img1.jpg",
            preview_image_url="https://example.com.img1.jpg"
        )
``` 




## åŸ·è¡Œç’°å¢ƒ
* Python 3.4.3

## Reference 
* [line messaging-api](https://devdocs.line.me/en/#messaging-api) 
* [line-bot-sdk-python](https://github.com/line/line-bot-sdk-python)


## License
MIT license
